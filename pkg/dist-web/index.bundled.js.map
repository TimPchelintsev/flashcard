{"version":3,"file":"index.bundled.js","sources":["index.js"],"sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar index = /*#__PURE__*/\n(function () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(_ref) {\n    var __deps__, __imports__, _imports__$grommet, Box, Button, Stack, _imports__$utils, React, _, icons, CodeEditor, napi, iconSize, _view, icon, preview, view, edit;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            __deps__ = _ref.__deps__, __imports__ = _ref.__imports__;\n            _imports__$grommet = __imports__.grommet, Box = _imports__$grommet.Box, Button = _imports__$grommet.Button, Stack = _imports__$grommet.Stack;\n            _imports__$utils = __imports__.utils, React = _imports__$utils.React, _ = _imports__$utils.lodash, icons = _imports__$utils.icons, CodeEditor = _imports__$utils.CodeEditor;\n            napi = __deps__.napi, iconSize = __deps__.iconSize;\n\n            _view = function _view(_ref3) {\n              var size = _ref3.size,\n                  mode = _ref3.mode;\n              return function (_ref4) {\n                var node = _ref4.node;\n\n                var _React$useState = React.useState(),\n                    _React$useState2 = _slicedToArray(_React$useState, 2),\n                    flipped = _React$useState2[0],\n                    setFlipped = _React$useState2[1];\n\n                var activeSide = flipped ? 'back' : 'front';\n\n                var value = _.get(node, \"sides.flashcard.\".concat(activeSide, \".content\"));\n\n                var background = _.get(node, 'sides.flashcard.background', {\n                  color: 'black',\n                  opacity: 'strong'\n                });\n\n                return React.createElement(Box, {\n                  fill: true,\n                  align: \"center\",\n                  justify: \"center\",\n                  pad: \"small\"\n                }, React.createElement(Box, {\n                  fill: true,\n                  align: \"center\",\n                  justify: \"center\",\n                  round: \"small\",\n                  background: background,\n                  overflow: \"scroll\"\n                }, mode === 'view' && React.createElement(Box, {\n                  pad: \"small\",\n                  fill: \"horizontal\"\n                }, React.createElement(Button, {\n                  plain: true,\n                  icon: React.createElement(icons.Refresh, {\n                    color: \"control\"\n                  }),\n                  label: activeSide,\n                  onClick: function onClick() {\n                    return setFlipped(!flipped);\n                  }\n                })), React.createElement(Box, {\n                  fill: true,\n                  align: \"center\",\n                  justify: \"center\",\n                  pad: \"small\",\n                  overflow: \"scroll\"\n                }, React.createElement(CodeEditor, {\n                  key: activeSide,\n                  value: value,\n                  onChange: function onChange(newValue) {\n                    return napi.updateNodeSide(node, \"flashcard/\".concat(activeSide), {\n                      content: newValue\n                    });\n                  },\n                  options: {\n                    size: size,\n                    language: null\n                  }\n                }))));\n              };\n            };\n\n            icon = function icon(_ref5) {\n              var node = _ref5.node;\n              return React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(Stack, null, React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(icons.Note, {\n                size: iconSize\n              })), React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(icons.Refresh, {\n                size: \"small\"\n              }))));\n            };\n\n            preview = _view({\n              size: 'small',\n              mode: 'preview'\n            });\n            view = _view({\n              size: 'medium',\n              mode: 'view'\n            });\n            edit = view;\n            return _context.abrupt(\"return\", {\n              modes: {\n                icon: icon,\n                preview: preview,\n                view: view,\n                edit: edit\n              }\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n})();\n\nexport default index;\n//# sourceMappingURL=index.js.map\n"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","index","_ref2","regeneratorRuntime","mark","_callee","_ref","__deps__","__imports__","_imports__$grommet","Box","Button","Stack","_imports__$utils","React","_","icons","CodeEditor","napi","iconSize","_view","icon","preview","view","edit","wrap","_callee$","_context","prev","grommet","utils","lodash","_ref3","size","mode","_ref4","node","_React$useState","useState","_React$useState2","flipped","setFlipped","activeSide","get","concat","background","color","opacity","createElement","fill","align","justify","pad","round","overflow","plain","Refresh","label","onClick","onChange","newValue","updateNodeSide","content","options","language","_ref5","Note","abrupt","modes","stop","_x"],"mappings":"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"}