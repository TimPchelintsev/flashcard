{"version":3,"file":"index.js","sources":["../dist-src/index.js"],"sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nexport default\n/*#__PURE__*/\n(function () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(_ref) {\n    var __deps__, __imports__, _imports__$grommet, Box, Button, Stack, _imports__$utils, React, _, icons, CodeEditor, napi, iconSize, _view, icon, preview, view, edit;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            __deps__ = _ref.__deps__, __imports__ = _ref.__imports__;\n            _imports__$grommet = __imports__.grommet, Box = _imports__$grommet.Box, Button = _imports__$grommet.Button, Stack = _imports__$grommet.Stack;\n            _imports__$utils = __imports__.utils, React = _imports__$utils.React, _ = _imports__$utils.lodash, icons = _imports__$utils.icons, CodeEditor = _imports__$utils.CodeEditor;\n            napi = __deps__.napi, iconSize = __deps__.iconSize;\n\n            _view = function _view(_ref3) {\n              var size = _ref3.size,\n                  mode = _ref3.mode;\n              return function (_ref4) {\n                var node = _ref4.node;\n\n                var _React$useState = React.useState(),\n                    _React$useState2 = _slicedToArray(_React$useState, 2),\n                    flipped = _React$useState2[0],\n                    setFlipped = _React$useState2[1];\n\n                var activeSide = flipped ? 'back' : 'front';\n\n                var value = _.get(node, \"sides.flashcard.\".concat(activeSide, \".content\"));\n\n                var background = _.get(node, 'sides.flashcard.background', {\n                  color: 'black',\n                  opacity: 'strong'\n                });\n\n                return React.createElement(Box, {\n                  fill: true,\n                  align: \"center\",\n                  justify: \"center\",\n                  pad: \"small\"\n                }, React.createElement(Box, {\n                  fill: true,\n                  align: \"center\",\n                  justify: \"center\",\n                  round: \"small\",\n                  background: background,\n                  overflow: \"scroll\"\n                }, mode === 'view' && React.createElement(Box, {\n                  pad: \"small\",\n                  fill: \"horizontal\"\n                }, React.createElement(Button, {\n                  plain: true,\n                  icon: React.createElement(icons.Refresh, {\n                    color: \"control\"\n                  }),\n                  label: activeSide,\n                  onClick: function onClick() {\n                    return setFlipped(!flipped);\n                  }\n                })), React.createElement(Box, {\n                  fill: true,\n                  align: \"center\",\n                  justify: \"center\",\n                  pad: \"small\",\n                  overflow: \"scroll\"\n                }, React.createElement(CodeEditor, {\n                  key: activeSide,\n                  value: value,\n                  onChange: function onChange(newValue) {\n                    return napi.updateNodeSide(node, \"flashcard/\".concat(activeSide), {\n                      content: newValue\n                    });\n                  },\n                  options: {\n                    size: size,\n                    language: null\n                  }\n                }))));\n              };\n            };\n\n            icon = function icon(_ref5) {\n              var node = _ref5.node;\n              return React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(Stack, null, React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(icons.Note, {\n                size: iconSize\n              })), React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(icons.Refresh, {\n                size: \"small\"\n              }))));\n            };\n\n            preview = _view({\n              size: 'small',\n              mode: 'preview'\n            });\n            view = _view({\n              size: 'medium',\n              mode: 'view'\n            });\n            edit = view;\n            return _context.abrupt(\"return\", {\n              modes: {\n                icon: icon,\n                preview: preview,\n                view: view,\n                edit: edit\n              }\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n})();"],"names":[],"mappings":"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"}